# 神社検定問題集 Webアプリ

## 概要
本システムは、神社検定の過去問題をWebアプリとして出題・採点・分析することを目的とする。  
GitHub Pages上で動作し、PC・スマートフォン双方で快適に利用できる。

---

## 1. 利用フロー

1. **トップページ**
   - 名前入力欄
   - 試験回選択（例：第12回、第11回…）
   - 出題数選択（10問／50問／100問）
   - 開始ボタン

2. **出題ページ**
   - 問題文、選択肢を表示
   - 「問〇／合計〇問」の進行状況表示
   - 回答後、自動で次の問題へ

3. **結果ページ**
   - 正答数・正答率表示
   - 合格/不合格判定（70%以上で合格）
   - 不合格時は不正解の属性一覧表示
   - 同一名前で複数回受験時は累積データから苦手分野分析

---

## 2. データ仕様

### 2.1 問題データ形式（JSON）
- **ファイル名**： `main_questions_〇〇.json`（〇〇は試験回）
- **保存場所**： `main/` フォルダ直下
- **構造例**：
```json
[
  {
    "id": "G1-Q1",
    "question": "神社の御神体について正しいのはどれか？",
    "choices": ["鏡", "刀", "勾玉", "すべて正しい"],
    "answer": 3,
    "category": "祭神",
    "subcategory": "御神体"
  }
]
```

- 必須項目：
  - `id`：グループID＋設問番号
  - `question`：問題文
  - `choices`：選択肢（配列）
  - `answer`：正解インデックス（0始まり）
  - `category`：属性（大分類）
  - `subcategory`：小属性（細分類）

---

### 2.2 出題ルール
- 選択された試験回のJSONから出題。
- 指定数が問題数を超える場合は、あるだけ出題。
- グループIDが同じ問題はセットで出題。
- 出題順は基本ランダム（必要に応じて固定順可）。

---

## 3. 画面仕様

### 3.1 トップページ（index.html）
- 名前（必須）
- 試験回（必須）
- 出題数（必須）
- 「開始」クリックで sessionStorage に値保存 → 出題ページへ遷移

### 3.2 出題ページ（questions.html）
- 表示：
  - 問題番号（例：問3/10）
  - 問題文
  - 選択肢（ボタン形式）
- 処理：
  - 回答選択 → 正誤判定 → 次の問題表示
  - 全問終了時は結果ページへ遷移

### 3.3 結果ページ（results.html）
- 表示：
  - 名前、試験回、正答数、正答率
  - 合否判定
  - 不正解の属性一覧（不合格時）
  - 累積結果による苦手分野分析（同一名前時）

---

## 4. 技術仕様

- HTML / CSS / JavaScript
- sessionStorage（名前・試験回・出題数の引き継ぎ）
- JSONデータ管理
- GitHub Pagesホスティング

---

## 5. エラー処理

- sessionStorage値未設定 → エラーメッセージ表示、トップページへ誘導
- JSON読み込み失敗 → 「問題データの読み込みに失敗しました。」表示
- データ形式不正 → 詳細エラーをコンソール出力

---

## 6. 開発進行ルール
- 作業前に所要時間の目安を提示
- 進捗報告は「〇％」または「〇項目中〇項目完了」で行う
- 未完成品や仮データは依頼時のみ提示
- 「完成版」は全機能動作時のみ使用
